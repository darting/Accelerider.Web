webpackJsonp([1],Array(51).concat([function(t,e,n){"use strict";var o=n(9),i=n.n(o),s=n(10),r=n.n(s),a=n(16),l=n.n(a),u=n(27),c=(n.n(u),function(){function t(){i()(this,t),this.$ajax=l.a.create({baseURL:"http://api.usmusic.cn/cloud",headers:{}}),this.$ajax.interceptors.response.use(function(t){return t},function(t){var e="";throw e=t.response?t.response.data.message:t.message,new Error(e)})}return r()(t,[{key:"filelist",value:function(t,e){return this.$ajax({method:"GET",url:"/filelist",params:{token:t,path:e}}).then(function(t){return t.data.list})}},{key:"createFolder",value:function(t,e){return this.$ajax({method:"GET",url:"/cFolder",params:{token:t,path:e}}).then(function(t){return t.data})}},{key:"deletefile",value:function(t,e){return this.$ajax({method:"GET",url:"/delete",params:{token:t,path:e}}).then(function(t){return t.data})}},{key:"downfiles",value:function(t,e){return this.$ajax({method:"POST",url:"filelink",params:{token:t,path:e.path}}).then(function(t){return t.data})}}]),t}());e.a=c},function(t,e,n){"use strict";var o=n(34),i=n.n(o),s=n(9),r=n.n(s),a=n(10),l=n.n(a),u=n(16),c=n.n(u),f=n(27),d=n.n(f),m=n(110),p=function(){function t(){r()(this,t),this.$ajax=c.a.create({baseURL:"http://api.usmusic.cn/",headers:{}}),this.$ajax.interceptors.response.use(function(t){return t},function(t){var e="";throw e=t.response?t.response.data.message:t.message,new Error(e)})}return l()(t,[{key:"signup",value:function(t,e){var o={name:t,password:n.i(m.a)(e).toString()};try{o.code=code}catch(t){}return this.$ajax({method:"POST",url:"/signup",params:{security:"md5"},data:d.a.stringify(o)}).then(function(t){return t.data}).then(function(t){return t.message})}},{key:"vertifyco",value:function(t,e){var n=t;if(e){n="";var o=JSON.parse(t);for(var i in o)n+=i+"="+o[i]+";"}return this.$ajax({method:"POST",url:"https://cloud.shekd.com/v2/api/checo",data:{cookie:n}}).then(function(t){return t.data})}},{key:"binding",value:function(t,e){return this.$ajax({method:"POST",url:"/binding",params:{token:t},data:d.a.stringify({cookies:e})}).then(function(t){return t.data}).then(function(t){if(0!=t.errno)throw new Error(t.message);return t.errno})}},{key:"login",value:function(t,e){return this.$ajax({method:"POST",url:"/login",params:{security:"md5"},data:d.a.stringify({name:t,password:n.i(m.a)(e).toString(),clienttype:"web"})}).then(function(t){return t.data}).then(function(t){if(0!=t.errno)throw new Error(t.message);return t.token})}},{key:"_userinfo",value:function(t,e){return this.$ajax({method:"GET",url:"/userinfo",params:{token:t,uk:e}}).then(function(t){t=t.data;var n={};return n.uk=e,n.Name=t.username,n.avatar_url=t.avatar_url,n.nick_name=t.nick_name,n.total=t.total,n.free=t.free,n.used=t.used,n})}},{key:"userlist",value:function(t){var e=this;return this.$ajax({method:"GET",url:"/userlist",params:{token:t}}).then(function(t){return t.data}).then(function(e){return e.userlist.map(function(e){e.Name=unescape(e.Name.replace(/\\u/g,"%u")),e.Token=t}),e.userlist}).then(function(n){return n.map(function(n){return e._userinfo(t,n.Uk)})}).catch(function(t){throw t.response?t.response.data.message:t.message})}},{key:"filelist",value:function(t,e,n){return this.$ajax({method:"GET",url:"/filelist",params:{token:t,uk:e,path:n}}).then(function(t){return t.data.list})}},{key:"createFolder",value:function(t,e,n){return this.$ajax({method:"GET",url:"/cFolder",params:{token:t,uk:e,path:n}}).then(function(t){return t.data})}},{key:"deletefile",value:function(t,e,n){return this.$ajax({method:"GET",url:"/deleteFile",params:{token:t,uk:e,path:n}}).then(function(t){return t.data})}},{key:"downfiles",value:function(t,e,n){var o=n;return this.$ajax({method:"POST",url:"/filelinks",params:{token:t,uk:e},transformRequest:[function(t){var e="";for(var n in t)e+=n+"="+encodeURIComponent(t[n])+"&";return e}],data:{files:i()(o)}}).then(function(t){return t.data})}},{key:"zqdownfiles",value:function(t){var e={filelist:[{server_path:t.path}]};return this.$ajax({method:"POST",url:"http://127.0.0.1:10000/guanjia",params:{method:"DownloadSelfOwnItems"},transformRequest:[function(t){var e="";for(var n in t)e+=n+"="+encodeURIComponent(t[n])+"&";return e}],data:{filelist:i()(e)}}).then(function(t){return t.data})}}]),t}();e.a=p},function(t,e,n){"use strict";var o=n(9),i=n.n(o),s=n(10),r=n.n(s),a=n(16),l=n.n(a),u=n(27),c=n.n(u),f=function(){function t(){i()(this,t),this.$ajax=l.a.create({baseURL:"http://api.usmusic.cn/square",headers:{}}),this.$ajax.interceptors.response.use(function(t){return t},function(t){var e="";throw e=t.response?t.response.data.message:t.message,new Error(e)})}return r()(t,[{key:"filelist",value:function(t,e){return this.$ajax({method:"GET",url:"/list",params:{n:t,p:e}}).then(function(t){return t.data.items})}},{key:"add2square",value:function(t,e,n){return this.$ajax({method:"POST",url:"/add",params:{token:t},data:c.a.stringify({md5:e.md5,size:e.size,filename:e.server_filename,message:n})}).then(function(t){return t.data.message})}},{key:"comment",value:function(t,e,n){return this.$ajax({method:"POST",url:"/comment",params:{token:t,md5:e},data:c.a.stringify({comment:n})}).then(function(t){return t.data})}},{key:"downfiles",value:function(t){return this.$ajax({method:"GET",url:"/link",params:{md5:t}}).then(function(t){return t.data.links})}}]),t}();e.a=f},function(t,e,n){"use strict";var o=n(9),i=n.n(o),s=n(10),r=n.n(s),a=n(111),l=function(){function t(){i()(this,t)}return r()(t,[{key:"percentSize",value:function(t,e){return(t/e*100).toFixed(2)+"%"}},{key:"transeSize",value:function(t){var e=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],n=Math.floor(Math.log(t)/Math.log(1024));return(t/Math.pow(1024,n)).toFixed(2)+" "+e[n]}},{key:"ArrContains",value:function(t,e){for(var n=t.length;n--;)if(t[n]===e)return!0;return!1}},{key:"getAvalibleType",value:function(){return["3ds","7z","accdb","ai","air","apk","arj","as","asax","ascx","ashx","asm","asmx","aspx","bin","bmp","bz2","c","cab","cdr","cer","chm","class","cmd","code","code2","computer","cpp","cs","cshtml","csproj","css","csv","dll","dmg","doc","docm","docx","dot","dotm","dotx","dtd","dwg","dxf","eps","epub","exe","f","file","fla","flv","folder_mac2","folder_public","fon","font","framework","gif","graph_icon","gz","h","hlp","html","indd","ini","ipa","iso","jar","java","jpg","js","json","key","ldf","lnk","makefile","md","mdb","mdf","mht","midi","movie","mp4","mpp","mpt","msg","msi","music","music1","numbers","o","odp","ods","odt","oexe","ogg","pages","pdb","pdf","php","php_small","pkg","pl","png","pps","ppsx","ppt","pptx","prproj","ps1","psd","pspimage","pst","pub","py","rar","rb","recycle","recycle_full","reg","resx","rtf","s","sitx","sln","sql","suo","svg","swf","swift","tar","txt","txt_small","utorrent","vb","vbproj","vbs","vcf","vcproj","vcxproj","vdw","vdx","vsd","vsdx","vss","vst","vsx","vtx","xaml","xap","xls","xlsb","xlsm","xlsx","xlt","xltx","xml","xps","xsd","xsl","y","zip"]}},{key:"fileType",value:function(t){var e=t.lastIndexOf(".");return t.substring(e+1,t.length)}},{key:"transeTime",value:function(t){var e=new Date;return e.setTime(1e3*t),e.toLocaleString()}},{key:"pathmanager",value:function(){return new a.a}}]),t}();e.a=l},function(t,e,n){"use strict";var o=n(2),i=n(206),s=n(185),r=n.n(s),a=n(190),l=n.n(a),u=n(189),c=n.n(u),f=n(188),d=n.n(f),m=n(187),p=n.n(m),h=n(192),g=n.n(h),v=n(193),k=n.n(v),w=n(191),b=n.n(w),_=n(186),x=n.n(_),y=n(184),$=n.n(y),F=n(183),P=n.n(F);o.default.use(i.a),o.default.component("user-info",$.a),o.default.component("bind-form",P.a);var S=new i.a({routes:[{path:"/login",component:c.a,name:"",hidden:!0},{path:"/signup",component:l.a,name:"",hidden:!0},{path:"/",component:d.a,name:"",hidden:!0,redirect:{path:"/disk"},meta:{requiresAuth:!0},children:[{path:"/disk",component:p.a,name:"网盘",redirect:{path:"/disk/home"},children:[{path:"home",component:g.a,name:"百度云"},{path:"m4s",component:k.a,name:"四酱云"}]},{path:"/square",component:b.a,name:"广场"},{path:"/about",component:x.a,name:"关于"}]},{path:"/404",component:r.a,name:"",hidden:!0},{path:"*",hidden:!0,redirect:{path:"/404"}}]});S.beforeEach(function(t,e,n){t.matched.some(function(t){return t.meta.requiresAuth})&&(sessionStorage.getItem("accessToken")||n({path:"/login",query:{redirect:t.fullPath}}),t.query.path||n({query:{path:"/"}})),n()}),e.a=S},function(t,e,n){"use strict";var o=n(2),i=n(8),s=n(113),r=n(114),a=n(115);o.default.use(i.b);var l={requesting:!1,error:{}},u={requesting:function(t){return t.requesting},error:function(t){return t.error}};e.a=new i.b.Store({state:l,getters:u,actions:s,modules:{account:r.a,filemgr:a.a}})},,function(t,e){},function(t,e){},function(t,e,n){n(168);var o=n(4)(n(100),n(196),null,null);t.exports=o.exports},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app",data:function(){return{version:"3.1.8"}},computed:{},methods:{testFunc:function(){}},beforeCreate:function(){},created:function(){},beforeMount:function(){},mounted:function(){console.log("VERSION:"+this.version)},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"bindingform",data:function(){return{bdcookie:"",loading:!1}},methods:{bindingByCookie:function(){var t=this;this.loading=!0,this.$restAPI.vertifyco(this.bdcookie).then(function(t){if(t.ok)return sessionStorage.getItem("accessToken");throw new Error(t.msg)}).catch(function(){return sessionStorage.getItem("accessToken")}).then(function(e){return t.$restAPI.binding(e,t.bdcookie)}).then(function(e){t.loading=!1}).catch(function(e){t.loading=!1,t.$message.error(e.msg||e.message)})}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"userinfo",data:function(){return{userInfos:[],infoLoading:!0}},methods:{gotoDisk:function(t){sessionStorage.setItem("accessUk",t),this.$store.dispatch("BDuser",t)},getToken:function(){return sessionStorage.getItem("accessToken")},getUserList:function(){var t=this;this.userInfos=[];var e=this.getToken();this.$restAPI.userlist(e).then(function(e){t.infoLoading=!1;for(var n in e)e[n].then(function(e){t.userInfos.push(e)})}).catch(function(e){t.infoLoading=!1,t.$message.error(e)})},transeSize:function(t){return this.utils.transeSize(t)}},mounted:function(){this.getUserList()}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"disk",data:function(){return{}},methods:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(11),i=n.n(o),s=n(8);e.default={name:"disk",data:function(){return{isbind:!1,bindDlg:!1,ukDlg:!1}},computed:i()({},n.i(s.a)({uk:"uk",userInfo:"userInfo"})),methods:{binding:function(){this.bindDlg=!0},changeUser:function(){this.ukDlg=!0},m4s:function(){this.$router.push({path:"/disk/m4s"})},disk:function(){this.$router.push({path:"/disk/home"})},getToken:function(){return sessionStorage.getItem("accessToken")},getUserList:function(){var t=this,e=this.getToken();this.$restAPI.userlist(e).then(function(e){t.isbind=e.length>0,t.isbind&&e[0].then(function(e){t.$store.dispatch("BDuser",e.uk)})}).catch(function(e){t.$message.error(e)})},getUserInfo:function(){var t=this;this.ukDlg=!1;var e=this.getToken();this.$restAPI._userinfo(e,this.uk).then(function(e){t.$store.dispatch("BDuserInfo",e)})},percentSize:function(t,e){return this.utils.percentSize(t,e)},logout:function(){var t=this;this.$confirm("确认退出吗?","提示",{}).then(function(){sessionStorage.removeItem("accessToken"),localStorage.removeItem("autologin"),t.$router.push({path:"/login"})}).catch(function(){})}},watch:{uk:function(){this.getUserInfo()}},mounted:function(){this.getUserList()}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(11),i=n.n(o),s=n(8);e.default={name:"login",data:function(){return{loginForm:{account:"",password:""},autologin:!1}},computed:i()({},n.i(s.a)({logining:"logining"})),methods:{register:function(){this.$router.push({path:"/signup"})},login:function(){var t=this;this.$store.commit("logining",!0),this.$restAPI.login(this.loginForm.account,this.loginForm.password).then(function(e){t.autologin&&t.$store.dispatch("autologin",{username:t.loginForm.account,pwd:t.loginForm.password}),t.$store.commit("logining",!1),t.$store.commit("loginsuccess",{token:e});var n=t.utils.pathmanager().getQuery(),o=n.redirect||"/disk";t.$router.push({path:o})}).catch(function(e){t.$store.commit("logining",!1),t.$store.commit("loginfailed",{emsg:e.message||"登录失败"}),t.$message.error(e.message)})}},mounted:function(){var t=localStorage.getItem("autologin");t&&(t=JSON.parse(t),this.loginForm.account=t.username,this.loginForm.password=t.pwd,this.login())}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"signup",data:function(){return{regLoading:!1,signupForm:{account:"",password:""}}},methods:{login:function(){this.$router.push({path:"/login"})},register:function(){var t=this;this.regLoading=!0,this.$restAPI.signup(this.signupForm.account,this.signupForm.password).then(function(e){t.regLoading=!1,t.$message(e)}).catch(function(e){t.regLoading=!1,t.$message.error(e.message)})}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(11),i=n.n(o),s=n(8);e.default={name:"square",data:function(){return{number:15,page:1,filelist:[],dialogDL:!1,downName:"",downlinks:[],dialogCm:!1,comments:[],mycomment:""}},computed:i()({},n.i(s.a)({isLoading:"isLoading",uk:"uk"})),methods:{getSquareList:function(){var t=this;this.$store.commit("viewloading",!0),this.$squareAPI.filelist(this.number,this.page-1).then(function(e){t.$store.commit("viewloading",!1),t.filelist=e}).catch(function(e){t.$store.commit("viewloading",!1),t.$message.error(e.message)})},downloadFile:function(t){var e=this;this.downName=t.FileName,this.$store.commit("viewloading",!0),this.$squareAPI.downfiles(t.Md5).then(function(t){e.dialogDL=!0,e.$store.commit("viewloading",!1),e.downlinks=t}).catch(function(t){e.$store.commit("viewloading",!1),e.$message.error(t.message)})},showComments:function(t){this.comments=t,this.dialogCm=!0},comment:function(){var t=this;this.$confirm("确认要评论这个文件吗？(一旦评论不可更改)","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$squareAPI.comment(token,md5,t.mycomment).then(function(e){t.$message.success(e.message)}).catch(function(e){t.$message.error("评论错误。")})}).catch(function(){})},prePage:function(){this.page=this.page>0?this.page-1:0},nextPage:function(){this.page+=1},transeTime:function(t){return this.utils.transeTime(t)}},watch:{page:function(){this.getSquareList()}},mounted:function(){this.getSquareList()}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(11),i=n.n(o),s=n(8);e.default={name:"webdisk",data:function(){return{token:"",dialogDL:!1,dialogProP:!1,downlinks:[],curFile:{}}},computed:i()({},n.i(s.a)({isLoading:"isLoading",uk:"uk",fileList:"filelist"})),methods:{_getBreadCrumb:function(){return this.utils.pathmanager().pathSegmtt()},goFileList:function(){var t=this,e=this.utils.pathmanager().getPath();this.token=sessionStorage.getItem("accessToken"),this.uk.length<1||(this.$store.commit("viewloading",!0),this.$restAPI.filelist(this.token,this.uk,e).then(function(e){t.$store.commit("viewloading",!1),t.$store.dispatch("filelist",e)}).catch(function(e){t.$store.commit("viewloading",!1),e.message.indexOf("代码 -9")>0?t.$router.push({query:{path:"/"}}):t.$message.error(e.message)}))},changefilepath:function(t){0!=t.isdir&&this.$router.push({query:{path:t.path}})},backFileList:function(){var t=this.utils.pathmanager().getBackPath();this.$router.push({query:{path:t}})},fileProperty:function(t){this.curFile=t,this.dialogProP=!0},_fileTypeUri:function(t){var e=this.utils.getAvalibleType(),n=["rmvb","mkv"],o=t.server_filename,i=this.utils.fileType(o);return i=this.utils.ArrContains(e,i)?i:"default",i=this.utils.ArrContains(n,i)?"movie":i,"./static/icons/"+(0==t.isdir?i:"folder_win10")+".png"},mediable:function(t){var e=["mp4","rmvb","mkv"];return this.utils.ArrContains(e,this.utils.fileType(t))},parseDownLinks:function(t){this.dialogDL=!0,this.downlinks=[];for(var e in t){var n={name:decodeURIComponent(e),urls:t[e]};this.downlinks.push(n)}},downloadFile:function(t){var e=this;this.$store.commit("viewloading",!0);var n=[t];this.$restAPI.downfiles(this.token,this.uk,n).then(function(t){if(t.links)return e.$restAPI.vertifyco(t.cookies,!0),t.links;throw new Error(t.message)}).then(function(t){e.$store.commit("viewloading",!1),e.parseDownLinks(t)}).catch(function(t){e.$store.commit("viewloading",!1),e.$message.error(t.message)})},downloadFromM4s:function(t){var e=this;this.$restAPI.zqdownfiles(t).then(function(t){"error"!=t?e.$message({message:"恭喜！发送成功~快去看看吧！",type:"success"}):e.$message.error("阿哦，发送失败。。大侠请重新来过。")}).catch(function(t){e.$message.error("阿哦，出错了诶？是不是没有打开坐骑呢?")})},createFolder:function(){var t=this;this.$prompt("请输入文件夹名称","新建文件夹",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(e){var n=e.value,o=t.utils.pathmanager().getPath()+"/"+n;t.$restAPI.createFolder(t.token,t.uk,o).then(function(e){t.$message.success("创建成功!"),t.goFileList()})}).catch(function(t){})},deleteFiles:function(t){this.$message.info("开发中。。。欢迎提出改进建议~")},deleteFile:function(t){var e=this;this.$confirm("确认将文件'"+t.server_filename+"'放入回收站?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$restAPI.deletefile(e.token,e.uk,t.path).then(function(t){e.$message.success("删除成功!"),e.goFileList()}).catch(function(t){e.$message.error("删除失败。")})}).catch(function(){})},add2square:function(t){var e=this;this.$prompt("请输入留言","分享到文件广场",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(n){var o=n.value;e.$squareAPI.add2square(e.token,t,o).then(function(t){e.$message.success(t)})}).catch(function(t){})},transeSize:function(t){return 1==t.isdir?"--":this.utils.transeSize(t.size)},transeTime:function(t){return this.utils.transeTime(t)}},mounted:function(){this.goFileList()},watch:{uk:function(){this.goFileList()},$route:"goFileList"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(11),i=n.n(o),s=n(8);e.default={name:"webdisk",data:function(){return{token:""}},computed:i()({},n.i(s.a)({isLoading:"isLoading",filelist:"m4sfilelist"})),methods:{goM4sFileList:function(){var t=this,e=this.utils.pathmanager().getPath();this.token=sessionStorage.getItem("accessToken"),this.$m4sAPI.filelist(this.token,e).then(function(e){t.$store.dispatch("m4sfilelist",e)}).catch(function(e){t.$message.error(e.message)})}},mounted:function(){this.goM4sFileList()}}},function(t,e,n){"use strict";var o=n(147),i=n.n(o);n.d(e,"a",function(){return i.a})},function(t,e,n){"use strict";var o=n(9),i=n.n(o),s=n(10),r=n.n(s),a=n(178),l=n.n(a),u=function(){function t(){i()(this,t);var e=window.location.hash;e=e.split("?")[1],e=l.a.parse(e),this.query=e,this.path=e.path||"/",this.page=e.page||1}return r()(t,[{key:"getQuery",value:function(){return this.query}},{key:"getPath",value:function(){return this.path}},{key:"getPage",value:function(){return this.page}},{key:"getBackPath",value:function(){var t=this.path.split("/");t.pop();var e="/";return t.length>1&&(e=t.join("/")),e}},{key:"isRoot",value:function(){return"/"===this.path}},{key:"pathSegmtt",value:function(){for(var t=[],e="/"==this.path?[""]:this.path.split("/"),n=e.join("/");""!=n;){var o=e.pop();t.push({name:o,path:n}),n=e.join("/")}return t.push({name:"全部文件",path:"/"}),t.reverse(),t}}]),t}();e.a=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),i=n(56),s=n(59),r=(n.n(s),n(60)),a=n.n(r),l=n(55),u=n(52),c=n(51),f=n(53),d=n(54),m=n(57),p=n.n(m),h=n(58);n.n(h);o.default.config.productionTip=!1,o.default.prototype.$restAPI=new u.a,o.default.prototype.$m4sAPI=new c.a,o.default.prototype.$squareAPI=new f.a,o.default.prototype.utils=new d.a,o.default.use(p.a),new o.default({store:i.a,el:"#app",router:l.a,template:"<App/>",components:{App:a.a}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"showMsg",function(){return i});var o=n(116),i=function(t,e){var n=t.commit,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"error";n(o.a,{content:e,type:i})}},function(t,e,n){"use strict";var o=n(34),i=n.n(o),s={logining:!1,autologin:!1,token:"",uk:"",info:{}},r={logining:function(t){return t.logining},autologin:function(t){return t.autologin},token:function(t){return t.token},uk:function(t){return t.uk},userInfo:function(t){return t.info}},a={logining:function(t,e){t.logining=e},loginsuccess:function(t,e){sessionStorage.setItem("accessToken",e.token),t.token=e.token},loginfailed:function(t,e){},BDuser:function(t,e){sessionStorage.setItem("accessUk",e.uk),t.uk=e.uk},BDuserInfo:function(t,e){t.info=e.info}},l={autologin:function(t,e){t.commit,t.state,t.rootState;localStorage.setItem("autologin",i()(e))},BDuser:function(t,e){var n=t.commit;t.state,t.rootState;n("BDuser",{uk:e})},BDuserInfo:function(t,e){var n=t.commit;t.state,t.rootState;n("BDuserInfo",{info:e})}};e.a={state:s,getters:r,mutations:a,actions:l}},function(t,e,n){"use strict";var o={isLoading:!1,filelist:[],m4sfilelist:[]},i={isLoading:function(t){return t.isLoading},filelist:function(t){return t.filelist},m4sfilelist:function(t){return t.m4sfilelist}},s={viewloading:function(t,e){t.isLoading=e},filelist:function(t,e){t.filelist=e.list},m4sfilelist:function(t,e){t.m4sfilelist=e.list}},r={filelist:function(t,e){var n=t.commit;t.state,t.rootState;n("filelist",{list:e})},m4sfilelist:function(t,e){var n=t.commit;t.state,t.rootState;n("m4sfilelist",{list:e})}};e.a={state:o,getters:i,mutations:s,actions:r}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o="SHOW_MSG"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,,,,,,function(t,e,n){t.exports=n.p+"static/img/alipay.d6a8ef7.png"},function(t,e,n){t.exports=n.p+"static/img/cookie.f9e42c6.png"},function(t,e,n){t.exports=n.p+"static/img/wechat.65b36eb.png"},function(t,e,n){n(172);var o=n(4)(n(101),n(202),"data-v-8750a43e",null);t.exports=o.exports},function(t,e,n){var o=n(4)(n(102),n(195),null,null);t.exports=o.exports},function(t,e,n){n(169);var o=n(4)(null,n(199),"data-v-2b528096",null);t.exports=o.exports},function(t,e,n){var o=n(4)(null,n(198),null,null);t.exports=o.exports},function(t,e,n){var o=n(4)(n(103),n(197),null,null);t.exports=o.exports},function(t,e,n){n(170);var o=n(4)(n(104),n(200),"data-v-752f87de",null);t.exports=o.exports},function(t,e,n){n(167);var o=n(4)(n(105),n(194),null,null);t.exports=o.exports},function(t,e,n){var o=n(4)(n(106),n(203),null,null);t.exports=o.exports},function(t,e,n){var o=n(4)(n(107),n(204),null,null);t.exports=o.exports},function(t,e,n){n(171);var o=n(4)(n(108),n(201),"data-v-7d98fe8f",null);t.exports=o.exports},function(t,e,n){var o=n(4)(n(109),n(205),null,null);t.exports=o.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container1"},[n("el-row",[n("el-col",{staticClass:"blurheader"},[n("span",[t._v("坐骑WEB")])]),n("el-col",{attrs:{type:"flex",sm:{span:10,offset:12},md:{span:9,offset:14},lg:{span:6,offset:16}}},[n("el-card",{staticClass:"login-container"},[n("el-form",{attrs:{model:t.loginForm}},[n("h3",{staticClass:"title"},[t._v("登录坐骑")]),n("el-form-item",{attrs:{prop:"account"}},[n("el-input",{attrs:{id:"username",placeholder:"帐号"},model:{value:t.loginForm.account,callback:function(e){t.loginForm.account=e},expression:"loginForm.account"}})],1),n("el-form-item",{attrs:{prop:"password"}},[n("el-input",{attrs:{id:"password",type:"password",placeholder:"密码"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13))return null;t.login(e)}},model:{value:t.loginForm.password,callback:function(e){t.loginForm.password=e},expression:"loginForm.password"}})],1),n("el-form-item",[n("el-checkbox",{attrs:{label:"自动登录"},model:{value:t.autologin,callback:function(e){t.autologin=e},expression:"autologin"}})],1),n("el-form-item",{staticClass:"full-width"},[n("el-button",{staticClass:"full-width",attrs:{type:"primary",loading:t.logining},on:{click:t.login}},[t._v("登录")])],1),n("el-form-item",[n("el-button",{attrs:{type:"text"},on:{click:t.register}},[t._v("没有帐号?注册一个")])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"user-info"},[n("el-table",{attrs:{data:t.userInfos,border:"border"}},[n("el-table-column",{attrs:{prop:"Name",label:"昵称"}}),n("el-table-column",{attrs:{label:"用量(已用/总量)"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.transeSize(e.row.used))+"/"+t._s(t.transeSize(e.row.total)))]}}])}),n("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{staticClass:"operation-menu",attrs:{loading:t.infoLoading},on:{click:function(n){t.gotoDisk(e.row.uk)}}},[t._v("切换")])]}}])})],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("transition",[n("router-view")],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"disk"}},[n("transition",[n("router-view")],1)],1)},staticRenderFns:[]}},function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-card",[o("div",{slot:"header"},[o("h3",[t._v("关于坐骑网页版")])]),o("div",[t._v("1.本平台基于百度云，部分文件下载可能限速")]),o("div",[t._v("2.官方QQ群 553683933")]),o("div",[t._v("3.给作者来杯咖啡钱，更有动力更新哟~")]),o("el-row",{attrs:{type:"flex"}},[o("el-col",[o("img",{attrs:{src:n(182),title:"请在新窗口打开以查看大图",alt:"微信支付",height:"300"}})]),o("el-col",[o("img",{attrs:{src:n(180),title:"请在新窗口打开以查看大图",alt:"支付宝支付",height:"300"}})])],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("p",{staticClass:"page-container"},[t._v("404 page not found")])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-row",{staticClass:"container"},[n("el-col",{staticClass:"header",attrs:{span:24}},[n("el-col",{staticClass:"logo",attrs:{span:10}},[n("span",[t._v("坐骑WEB")])]),n("el-col",{staticClass:"userinfo",attrs:{span:4}},[t.isbind?t._e():n("el-button",{staticClass:"zerouser",on:{click:t.binding}},[t._v("尚未绑定百度账号")]),t.isbind?n("el-dropdown",{attrs:{trigger:"hover"}},[n("span",{staticClass:"el-dropdown-link userinfo-inner"},[n("img",{attrs:{src:t.userInfo.avatar_url}}),t._v(t._s(t.userInfo.Name))]),n("el-dropdown-menu",{slot:"dropdown"},[n("el-dropdown-item",[t._v("用量:"+t._s(t.percentSize(t.userInfo.used,t.userInfo.total)))]),n("el-dropdown-item",{nativeOn:{click:function(e){t.changeUser(e)}}},[t._v("切换帐号")]),n("el-dropdown-item",{attrs:{divided:"divided"},nativeOn:{click:function(e){t.logout(e)}}},[t._v("退出登录")])],1)],1):t._e()],1)],1),n("el-col",{staticClass:"main"},[n("aside",[n("el-menu",{attrs:{"default-active":"/disk/home",router:!0}},[n("el-submenu",{attrs:{index:"1"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-plus"}),t._v("网盘")]),n("el-menu-item",{attrs:{index:"/disk/home"}},[n("i",{staticClass:"el-icon-upload"}),t._v("百度云")]),n("el-menu-item",{attrs:{index:"/disk/m4s"}},[n("i",{staticClass:"el-icon-document"}),t._v("四酱云")])],2),n("el-menu-item",{attrs:{index:"/square"}},[n("i",{staticClass:"el-icon-view"}),t._v("文件广场")]),n("el-menu-item",{attrs:{index:"/about"}},[n("i",{staticClass:"el-icon-information"}),t._v("关于")])],1)],1),n("section",{staticClass:"content-container"},[n("div",{staticClass:"content-wrapper",attrs:{type:"flex",span:24}},[n("el-card",[n("transition",[n("router-view")],1)],1)],1)])]),n("el-dialog",{model:{value:t.bindDlg,callback:function(e){t.bindDlg=e},expression:"bindDlg"}},[n("bind-form")],1),n("el-dialog",{model:{value:t.ukDlg,callback:function(e){t.ukDlg=e},expression:"ukDlg"}},[n("user-info"),n("el-button",{attrs:{type:"text"},on:{click:t.binding}},[t._v("新增绑定")])],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"disk"},[n("el-row",{attrs:{type:"flex"}},[n("el-col",[n("el-button",{attrs:{icon:"document"},on:{click:t.createFolder}},[t._v("新建文件夹")]),n("el-button",{attrs:{icon:"delete"},on:{click:t.deleteFiles}},[t._v("删除")])],1)],1),n("el-row",{attrs:{type:"flex"}},[n("el-col",{attrs:{span:4}},[n("el-button",{attrs:{type:"text",icon:"arrow-left"},on:{click:t.backFileList}},[t._v("BACK")])],1),n("el-col",{staticClass:"filebread",attrs:{span:12}},[n("el-breadcrumb",{attrs:{separator:">",replace:!0}},t._l(t._getBreadCrumb(),function(e){return n("el-breadcrumb-item",{key:"p",attrs:{to:{query:{path:e.path}}}},[t._v(t._s(e.name))])}))],1),n("el-col",{staticClass:"filebread",attrs:{span:4}},[n("span",[t._v("Total: "+t._s(t.fileList.length))])])],1),n("el-row",{staticClass:"frame-main",attrs:{type:"flex"}},[n("el-col",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}]},[n("el-table",{staticClass:"disk-table",staticStyle:{width:"100%"},attrs:{data:t.fileList,"empty-text":"文件夹是空的哟"}},[n("el-table-column",{attrs:{type:"selection"}}),n("el-table-column",{attrs:{label:"文件名","show-overflow-tooltip":"show-overflow-tooltip","min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-col",{staticClass:"file-name",attrs:{span:19}},[n("img",{staticClass:"fileicon",attrs:{src:t._fileTypeUri(e.row),height:"30"}}),n("span",{class:1==e.row.isdir?"open-enable":"normal",on:{click:function(n){t.changefilepath(e.row)}}},[t._v(t._s(e.row.server_filename))])])]}}])}),n("el-table-column",{attrs:{label:"-","show-overflow-tooltip":"show-overflow-tooltip",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-dropdown",{attrs:{type:"text","split-button":"split-button",trigger:"click"},on:{click:function(n){t.downloadFile(e.row)}}},[t._v("下载"),n("el-dropdown-menu",{slot:"dropdown"},[n("el-dropdown-item",{nativeOn:{click:function(n){n.preventDefault(),t.downloadFromM4s(e.row)}}},[t._v("发送到坐骑下载")]),n("el-dropdown-item",{nativeOn:{click:function(n){n.preventDefault(),t.add2square(e.row)}}},[t._v("添加到文件广场")]),n("el-dropdown-item",{nativeOn:{click:function(n){n.preventDefault(),t.fileProperty(e.row)}}},[t._v("属性")]),n("el-dropdown-item",{nativeOn:{click:function(n){n.preventDefault(),t.deleteFile(e.row)}}},[t._v("删除")])],1)],1)]}}])}),n("el-table-column",{attrs:{label:"大小","show-overflow-tooltip":"show-overflow-tooltip",width:"130"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.transeSize(e.row)))]}}])}),n("el-table-column",{attrs:{label:"修改日期","show-overflow-tooltip":"show-overflow-tooltip",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.transeTime(e.row.server_mtime)))]}}])})],1)],1)],1),n("div",{staticClass:"dialog"},[n("el-dialog",{attrs:{title:"下载链接"},model:{value:t.dialogDL,callback:function(e){t.dialogDL=e},expression:"dialogDL"}},t._l(t.downlinks,function(e){return n("div",{key:"item"},[n("p",[t._v(t._s(e.name))]),n("ul",t._l(e.urls,function(e){return n("li",{key:"url"},[n("a",{attrs:{href:e,target:"_blank",rel:"noreferrer"}},[t._v("链接")])])}))])})),n("el-dialog",{attrs:{title:"文件属性"},model:{value:t.dialogProP,callback:function(e){t.dialogProP=e},expression:"dialogProP"}},[n("p",[t._v("文件名： "+t._s(t.curFile.server_filename))]),n("p",[t._v("文件大小： "+t._s(t.transeSize(t.curFile)))]),1==t.curFile.isdir?n("p",[t._v("是否有子目录： "+t._s(0==t.curFile.dir_empty))]):t._e(),n("p",[t._v("修改时间： "+t._s(t.transeTime(t.curFile.server_mtime)))]),0==t.curFile.isdir?n("p",[t._v("文件MD5： "+t._s(t.curFile.md5))]):t._e()])],1)],1)},staticRenderFns:[]}},function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{label:"绑定"}},[o("el-form-item",{attrs:{label:"paste your cookie"}},[o("el-input",{attrs:{type:"textarea",autosize:"autosize"},model:{value:t.bdcookie,callback:function(e){t.bdcookie=e},expression:"bdcookie"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:t.bindingByCookie}},[t._v("绑定")])],1),o("el-form-item",[o("div",{staticClass:"cookietip"},[o("span",[t._v("cookie获取方法(仅针对chromium系浏览器)：")]),o("br"),o("span",[t._v("1.打开")]),o("a",{attrs:{href:"http://pan.baidu.com/",target:"_blank"}},[t._v("百度盘")]),o("span",[t._v("并登录")]),o("br"),o("span",[t._v("2.在百度盘页面按F12调出控制台,切换到network,过滤条件选择XHR")]),o("br"),o("span",[t._v("3.重新刷新百度盘页面(不要关闭控制台)")]),o("br"),o("span",[t._v("4.随便点一个请求,选择Headers标签,复制其中Request Headers下面Cookie的值粘贴于此")]),o("br"),o("img",{attrs:{src:n(181),title:"请在新窗口打开以查看大图",alt:"图片说明",height:"100"}})])])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container1"},[n("el-row",[n("el-col",{staticClass:"blurheader"},[n("span",[t._v("坐骑WEB")])]),n("el-col",{attrs:{type:"flex",sm:{span:10,offset:12},md:{span:9,offset:14},lg:{span:6,offset:16}}},[n("el-card",{staticClass:"login-container"},[n("el-form",{attrs:{model:t.signupForm}},[n("h3",{staticClass:"title"},[t._v("注册坐骑")]),n("el-form-item",{attrs:{prop:"account"}},[n("el-input",{attrs:{id:"username",placeholder:"帐号"},model:{value:t.signupForm.account,callback:function(e){t.signupForm.account=e},expression:"signupForm.account"}})],1),n("el-form-item",{attrs:{prop:"password"}},[n("el-input",{attrs:{id:"password",type:"password",placeholder:"密码"},model:{value:t.signupForm.password,callback:function(e){t.signupForm.password=e},expression:"signupForm.password"}})],1),n("el-form-item",{staticClass:"full-width"},[n("el-button",{staticClass:"full-width",attrs:{type:"primary",loading:t.regLoading},on:{click:t.register}},[t._v("注册帐号")])],1),n("el-form-item",[n("el-button",{attrs:{type:"text"},on:{click:t.login}},[t._v("已有帐号?去登陆")])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"square"},[n("el-row",{attrs:{type:"flex"}},[n("el-col",[n("el-button-group",[n("el-button",{attrs:{type:"info",icon:"arrow-left"},on:{click:function(e){t.prePage()}}},[t._v("上一页")]),n("el-button",{attrs:{type:"info"},on:{click:function(e){t.nextPage()}}},[t._v("下一页"),n("i",{staticClass:"el-icon-arrow-right el-icon--right"})])],1)],1),n("el-col",[n("span",[t._v("当前页码:")]),n("el-input-number",{attrs:{min:1},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)],1),n("el-row",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],attrs:{type:"flex"}},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.filelist,"empty-text":"你来到了空无一人的广场"}},[n("el-table-column",{attrs:{label:"文件名",prop:"FileName","show-overflow-tooltip":"show-overflow-tooltip","min-width":"200"}}),n("el-table-column",{attrs:{label:"-","show-overflow-tooltip":"show-overflow-tooltip",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text"},on:{click:function(n){t.downloadFile(e.row)}}},[t._v("下载")])]}}])}),n("el-table-column",{attrs:{label:"分享者",prop:"From",width:"130"}}),n("el-table-column",{attrs:{label:"分享时间","show-overflow-tooltip":"show-overflow-tooltip",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t.transeTime(e.row.Time)))])]}}])}),n("el-table-column",{attrs:{label:"分享留言",prop:"Message","show-overflow-tooltip":"show-overflow-tooltip",width:"180"}}),n("el-table-column",{attrs:{label:"评论数",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text"},on:{click:function(n){t.showComments(e.row.Comments)}}},[t._v(t._s(e.row.Comments.length))])]}}])})],1)],1),n("el-row",{attrs:{type:"flex"}},[n("el-col",[n("el-button-group",[n("el-button",{attrs:{type:"info",icon:"arrow-left"},on:{click:function(e){t.prePage()}}},[t._v("上一页")]),n("el-button",{attrs:{type:"info"},on:{click:function(e){t.nextPage()}}},[t._v("下一页"),n("i",{staticClass:"el-icon-arrow-right el-icon--right"})])],1)],1),n("el-col",[n("span",[t._v("当前页码:")]),n("el-input-number",{attrs:{min:1},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)],1),n("div",{staticClass:"dialog"},[n("el-dialog",{attrs:{title:"下载链接"},model:{value:t.dialogDL,callback:function(e){t.dialogDL=e},expression:"dialogDL"}},[n("div",[n("p",[t._v(t._s(t.downName))]),n("ul",t._l(t.downlinks,function(e){return n("li",{key:"url"},[n("a",{attrs:{href:e,target:"_blank",rel:"noreferrer"}},[t._v("链接")])])}))])]),n("el-dialog",{attrs:{title:"评论区"},model:{value:t.dialogCm,callback:function(e){t.dialogCm=e},expression:"dialogCm"}},[n("el-table",{attrs:{data:t.comments,"empty-text":"此文件还没有人评论",height:"260"}},[n("el-table-column",{attrs:{label:"评论",prop:"Message"}}),n("el-table-column",{attrs:{label:"评论人",prop:"From",width:"130"}}),n("el-table-column",{attrs:{label:"评论时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t.transeTime(e.row.Time)))])]}}])})],1)],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m4sdisk"},[n("el-row",{attrs:{type:"flex"}},[n("el-col",[n("h3",[t._v("施工重地，闲人免进。")])])],1),n("el-row",[n("el-col",[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.filelist,"empty-text":"文件夹是空的哟"}},[n("el-table-column",{attrs:{label:"文件名",prop:"fileName"}})],1)],1)],1)],1)},staticRenderFns:[]}}]),[112]);